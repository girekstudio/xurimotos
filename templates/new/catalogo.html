{% extends 'new/index-corporate-7.html' %}{% block main %}    {% load render_paginator %}    <div role="main">        <section class="page-header page-header-modern bg-color-dark page-header-md"                 style="margin-bottom:-20px!important; background-image: url(/media/{{ editable.slider_1_fondo }});  background-size:1939px!important;  background-position:top !important; !important;">            <div class="container">                <div class="row">                    <div class="col-md-12 align-self-center p-static order-2 text-center">                        <br><br><br><br>                        <h4 class="koho-semibold text-color-primary font-weight-normal text-6"                            style="letter-spacing: 7px">PRODUCTOS</h4>                    </div>                </div>            </div>        </section>        <div class="container" style="padding-top: -250px !important;">            <div class="col-md-12  col-lg-12  align-items-center justify-content-center">                <form role="search" action="/catalogo/" method="get">                    <div class="input-group mb-3 pb-1">                        <input class="form-control text-1" id="headerSearch" name="q" type="search"                               value="{{ request.GET.q }}" placeholder="¿Qué necesitas?">                        <button type="submit" class="btn btn-primary text-1 p-2">                            <i class="fas fa-search m-2" style="color: #efefef"></i>                        </button>                    </div>                </form>            </div>            <div class="col-md-12 align-self-lg-start order-1">                <ul class="breadcrumb d-block text-left">                    <li><a href="/catalogo/">Productos</a></li>                    <li class="active">{{ request.GET.q }}</li>                </ul>            </div>            <br>        </div>        <div class="container">            <div class="row">                {% block productos %}                    <div class="col-lg-12 order-2 order-lg-2">                        {% if productos.paginator.num_pages > 1 %}                            <div class="row">                                <div class="col">                                    <ul class="pagination float-right" style="overflow-x: auto">                                        {% if productos.has_previous %}                                            <li class="page-item"><a class="page-link"                                                                     onclick="url('page',{{ productos.previous_page_number }})"                                                                     style="cursor: pointer"><i                                                    class="fas fa-angle-left"></i></a></li>                                        {% endif %}                                        {% muestra_paginacion productos.number productos.paginator.num_pages %}                                        {% if productos.has_next %}                                            <a class="page-link" onclick="url('page',{{ productos.next_page_number }})"                                               style="cursor: pointer"><i class="fas fa-angle-right"></i></a>                                        {% endif %}                                    </ul>                                </div>                            </div>                        {% endif %}                        <div class="masonry-loader masonry-loader-showing">                            <div class="row products product-thumb-info-list" data-plugin-masonry                                 data-plugin-options="{'layoutMode': 'fitRows'}">                                {% for producto in productos %}                                    <div class="col-12 col-sm-6 col-lg-3 "   >                                        <div class="product  btn btn-light " style="margin: 15px!important;"  >{#                                            <div class="product-thumb-info-badges-wrapper" style="text-align: start!important;">#}{#                                                <span class="badge badge-ecommerce bg-color-primary">NUEVO</span>#}{#                                            </div>#}                                            <div class="product-thumb-info border-0 "                                                 style="border-radius: 20px">                                                <a href="/product/?id={{ producto.id }}" style="text-decoration:none">                                                    <div class="product-thumb-info-image" style="background:#ffffff !important;">                                                        {% if producto.foto %}                                                            <img style="border-radius: 20px !important;" alt="" class="img-fluid" src="/media/{{ producto.foto }}" width="100%">                                                        {% else %}                                                            <img style="border-radius: 20px !important;" alt="" class="img-fluid " src="/static/img/products/xuri.jpg">                                                        {% endif %}                                                    </div>                                                </a>                                            </div>                                            <div class="d-flex justify-content-between">                                                <div>                                                    <a href="#"                                                       class="d-block text-uppercase text-decoration-none text-color-default text-color-hover-primary line-height-1 text-0 mb-1"></a>                                                    <h3 class="text-3-5 font-weight-medium font-alternative text-transform-none line-height-3 mb-0" style="text-align: start!important;">                                                        <a href="/product/?id={{ producto.id }} "                                                           class=" graphik-bold text-color-dark text-3 text-color-hover-primary" title="{{ producto.nombre_producto }}"                                                           style=" text-decoration: none">{{ producto.nombre_producto|truncatechars:28}} </a>                                                    </h3>                                                </div>                                            </div>                                        </div>                                    </div>                                {% endfor %}                            </div>                        </div>                        {% if productos.paginator.num_pages > 1 %}                            <div class="row">                                <div class="col">                                    <ul class="pagination float-right" style="overflow-x: auto">                                        {% if productos.has_previous %}                                            <li class="page-item"><a class="page-link" onclick="url('page',{{ productos.previous_page_number }})" style="cursor: pointer">                                                <i class="fas fa-angle-left"></i></a>                                            </li>                                        {% endif %}                                        {% muestra_paginacion productos.number productos.paginator.num_pages %}                                        {% if productos.has_next %}                                            <a class="page-link" onclick="url('page',{{ productos.next_page_number }})" style="cursor: pointer"><i class="fas fa-angle-right"></i></a>                                        {% endif %}                                    </ul>                                </div>                            </div>                        {% endif %}                    </div>                {% endblock %}            </div>        </div>    </div>{% endblock %}{% block script %}    <script>        var QueryString = function () {            var query_string = {};            var query = window.location.search.substring(1);            var vars = query.split("&");            for (var i = 0; i < vars.length; i++) {                var pair = vars[i].split("=");                if (typeof query_string[pair[0]] === "undefined") {                    query_string[pair[0]] = decodeURIComponent(pair[1]);                } else if (typeof query_string[pair[0]] === "string") {                    var arr = [query_string[pair[0]], decodeURIComponent(pair[1])];                    query_string[pair[0]] = arr;                } else {                    query_string[pair[0]].push(decodeURIComponent(pair[1]));                }            }            return query_string;        }();        function url(nombre, valor) {            let uri = `${nombre}=${valor}`            for (const property in QueryString) {                if (property == nombre) {                    console.log("existe")                } else {                    if (QueryString[property] != "") {                        uri += `&${property}=${QueryString[property]}`                    }                }                console.log(uri)            }            location.href = "?" + uri        }        {% if request.GET.color %}            $("#color option[value=" + QueryString.color + "]").attr("selected", true);        {% endif %}        {% if request.GET.edades %}            $("#edades option[value=" + QueryString.edades + "]").attr("selected", true);        {% endif %}        {% if request.GET.ppagina %}            $("#ppagina option[value=" + QueryString.ppagina + "]").attr("selected", true);        {% endif %}        {% if request.GET.marca %}            $("#marca option[value=" + QueryString.marca + "]").attr("selected", true);        {% endif %}    </script>{% endblock %}